---
title: "Lab 7: Multicollinearity, Suppression, Dominance Analysis"
author: "Fabio Setti"
institute: "PSYC 7804 - Regression with Lab"
bibliography: Additional files/R packages.bib
csl: Additional files/apa.csl
notice: |
  @Fox_etal_2024
title-slide-attributes:
  data-transition: "zoom"
  data-visibility: "uncounted"
format:
   revealjs:
      footer: "Lab 7: Multicollinearity, Suppression, Dominance Analysis"
      width: 1280
      height: 720
      chalkboard: true
      slide-number: c/t 
      theme: Fabio_theme/Fabio_theme.scss
      navigation-mode: linear
      controls: false
      auto-stretch: false
      header-includes:
        - <script src="Fabio_theme/Fabio_theme.js"></script>

editor: source
---



## Today's Packages and Data ðŸ¤—

:::: {.columns}
::: {.column width="50%"}

```{r}
#| code-fold: true
#| eval: false
#| echo: true
#| code-line-numbers: false
#| code-summary: "Install Packages Code"
#| classes: code-150

install.packages("dominanceanalysis")
# install.packages("tidyverse")

```

```{r}
#| eval: true
#| echo: true
#| code-line-numbers: false
#| warning: false
#| classes: code-150

library(dominanceanalysis)
library(tidyverse)
theme_set(theme_classic(base_size = 14, 
                        base_family = 'serif'))
```

</br>

<div style="font-size: 26px">

::: {.panel-tabset}

### `dominanceanalysis`

The `dominanceanalysis` package [@Navarrete_etal_2024] contains functions to run dominance analysis in R.
:::

</div>

:::
::: {.column width="50%"}



 Let's also load the data for today:

```{r}
#| warning: false
#| classes: code-125
#| echo: true
#| code-line-numbers: false
#| output: true

dat <- rio::import("Data/Mergeddata.sav")[,-c(1,2,8)] %>% 
          select(Intense,
                 Adventurousness_NEO,
                 Intellect_NEO,
                 Unconventionality_HEXACO)


cor_mat <- cor(dat[,c("Intense",
                      "Adventurousness_NEO",
                      "Intellect_NEO", 
                      "Unconventionality_HEXACO")], use = "complete.obs")


write.csv(dat, "Data/music.csv", row.names = FALSE)



formula <- paste("Intense  ~ ", paste(colnames(dat)[6:15], collapse = "+"))

reg_intense <- lm(Intense ~ Adventurousness_NEO +  Intellect_NEO, data = dat)



dom_a <- dominanceAnalysis(reg_intense)

summary(dom_a)

summary(reg_intense)

car::vif(reg_intense)


paste0(colnames(dat)[6:15])

```


<ul style="font-size: 22px">  

<li> **INTENT1**: Intention to obtain mammogram in next 3 months  </li>

<li> **AGE**: </li>

<li> **INCOME**: </li>

<li> **HAVEPHYS**: </li>

<li> **BENEFIT1**: </li>

</ul>





:::
::::


## Regresssion coefficients Weirdness

It is common practice to add covariates to regression models without giving it much thought (*adding a covariate* simply means adding additional predictors). However, some strange things ðŸ‘½ may happen if you add variables too casually to regression models.

:::: {.columns}
::: {.column width="50%"}



:::
::: {.column width="50%"}

:::
::::



## Visulazing 

```{r}
source("https://github.com/quinix45/PSYC-7804-Regression-Lab-Slides/raw/refs/heads/main/Slides%20Files/R_scripts/3D_plot.R")

# dat <- rio::import("https://github.com/quinix45/PSYC-7804-Regression-Lab-Slides/raw/refs/heads/main/Slides%20Files/Data/training.sav")
# 
# 
# cor(dat)
```





## References 

<div id="refs"> </div>


