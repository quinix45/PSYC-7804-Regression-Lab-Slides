---
title: "Lab 13: Missing Data"
author: "Fabio Setti"
institute: "PSYC 7804 - Regression with Lab"
bibliography: Additional files/R packages.bib
csl: Additional files/apa.csl
title-slide-attributes:
  data-transition: "zoom"
  data-visibility: "uncounted"
format:
   revealjs:
      footer: "Lab 13: Missing Data"
      width: 1280
      height: 720
      chalkboard: true
      slide-number: c/t 
      theme: Fabio_theme/Fabio_theme.scss
      navigation-mode: linear
      controls: false
      auto-stretch: false
      header-includes:
        - <script src="Fabio_theme/Fabio_theme.js"></script>

editor: source
---

## Today's Packages and Data ðŸ¤—


```{r}
dat <- rio::import("Data/employeecomplete.dat")[,-1]
dat_miss <- rio::import("Data/employee.dat")[,-1]


names(dat) <- c( "team", "turnover", "male", "empower", "lmx", "worksat", "climate", "cohesion")
names(dat_miss) <- c("team", "turnover", "male", "empower", "lmx", "worksat", "climate", "cohesion")
dat_miss[dat_miss == "999"] <- NA
```



## For all your missing data needs

This Lab is a very quick overview of some methods of dealing with missing data. More often than not, your missing data woes will be trickier than what I go over here. 

:::: {.columns}
::: {.column width="50%"}

As far as missing data resources go, I would say that *Applied Missing Data Analysis* [@Enders_2022] is the best resource at the time of making these slides. 

</br>


I think the book is very approachable, and explains many of the concepts very clearly! 


</br>

Additionally, there is a [website](https://www.appliedmissingdata.com){target="_blank"} that complements the book very nicely. You can also find [the code for the examples](https://www.appliedmissingdata.com/analyses){target="_blank"} from each chapter on the website. 


:::
::: {.column width="50%"}


<center>

![](Images/AMDA_enders.jpg){width=50%}
</center>

:::
::::



## Why is My Data Missing?

There may be many reasons why you end up with missing data. In general, there are **3 missing data mechanisms** that can describe the way in which data is missing:

<center>
:::: {.columns}
::: {.column width="33%"}

**Missing completely at random (MCAR)** 

Missing data is said to be MCAR if the missing values in your data happen completely at random, meaning that there is *no discernible pattern in the missingness*. 


:::
::: {.column width="33%"}

**Missing at Random (MAR)**

Missing data is said to be MAR if the missing values in your can be predicted by your observed variables, meaning that some of your measured variables *explain why* data may be missing.

:::

::: {.column width="33%"}

**Missing not at random (MNAR)**

Missing data is said to be MAR if the missing values are due to some variable that is not observed. This is the trickiest case of missing data because something that you don't know about is causing your data to disappear. 

:::
::::

</center>

I am using the terminology from @Enders_2022, you may see different names for these 3 mechanisms. 

Regardless, these processes are important because methods that deal with missing data make the assumption that one of these three mechanisms are at play. 










:::: {.columns}
::: {.column width="50%"}

:::
::: {.column width="50%"}

:::
::::









## For later


```{r}

# lav_mod <- "empower ~ lmx + worksat + climate + cohesion"
# 
# fit <- lavaan::sem(lav_mod, dat, meanstructure = TRUE, fixed.x = FALSE, missing = "fiml")
# 
# lavaan::summary(fit)
```


```{r}
# library(VIM)
# X.miss <- produce_NA(dat[, 5:8], proportion = 0.5)
# 
# dat_miss <- dat
# dat_miss[,5:8] <- X.miss
# 
# fit_miss <- lavaan::sem(lav_mod, dat_miss, meanstructure = TRUE, fixed.x = TRUE, missing = "fiml")
# lavaan::summary(fit_miss)

```

## References


<div id="refs"> </div>
